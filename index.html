<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Auto Video Loader</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- <link rel="stylesheet" href="css/styles.css"> -->
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>


    <div class="avl-carousel-container">

      <div class="arrow next"></div>
      <div class="arrow prev"></div>
      <!-- <div class="owl-carousel owl-theme">      
        <div class="item"><iframe id="reactjs" width="100%" height="350" src="https://www.youtube.com/embed/6ZnfsJ6mM5c?rel=0&amp;showinfo=0&enablejsapi=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>
        <div class="item"><iframe id="reactjs2" width="100%" height="350" src="https://www.youtube.com/embed/whZNYPldMEY?rel=0&amp;showinfo=0&enablejsapi=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>
        <div class="item"><iframe width="100%" height="350" src="https://www.youtube.com/embed/qs2n_poLarc?rel=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>
        <div class="item"><iframe width="100%" height="350" src="https://www.youtube.com/embed/bKWDKmHvF78?rel=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>
        <div class="item"><iframe width="100%" height="350" src="https://www.youtube.com/embed/T5iGAAypGBA?rel=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>
      </div> -->
  
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/navigate.js"></script>
    <script>

      var iframes = ['reactjs', 'reactjs2'];

      var owl = $('.owl-carousel');
       
      owl.owlCarousel({
        items:1,
        merge:true,
        loop:true,
        margin:10,
        video:true,
        lazyLoad:true,
        center:true,
        dots: false,
        responsive:{
          0:{
            items:1,
            nav:false
          },
          600:{
            items:3,
            nav:false
          }
        }
      });


      $('.next').click(function() {
        owl.trigger('next.owl.carousel');
      });

      $('.prev').click(function() {
        owl.trigger('prev.owl.carousel');
      });

      var tag = document.createElement('script');
      tag.id = 'iframe-demo';
      tag.src = 'https://www.youtube.com/iframe_api';
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
      function onYouTubeIframeAPIReady() {
        iframes.forEach(function(element) {
          player = new YT.Player(element, {
              events: {
                'onReady': onPlayerReady
              }
          });
        });
        
      }

      
      var playerHandles = [];
      
      function onPlayerReady(event) {
        var id = event.target.a.id;
        var obj = {};
        obj[id] = event.target;
        playerHandles.push(obj);
        //console.log(playerHandles);
        //player.playVideo();
        // $(".next").click(function(){
        //   player.playVideo();  
        // });
        // $(".prev").click(function(){
        //   player.stopVideo();  
        // });


      }

      
      
      navigate.init();

      console.log(navigate.carouselCount);
      console.log(navigate.currentObj);
      
      navigate.updateIndex('next');
      console.log(navigate.currentObj);
      
      navigate.updateIndex('prev');
      console.log(navigate.currentObj);

      navigate.updateIndex('prev');
      console.log(navigate.currentObj);

      navigate.updateIndex('next');
      console.log(navigate.currentObj);
      
    </script>
  </body>
</html>